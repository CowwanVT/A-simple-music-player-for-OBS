<html>
  <body>
    <script src="./AudioFiles.js"></script>
    <script type="module" >

      function playSong(song)
      {
        return new Promise((resolve) => {
          song.onloadeddata = function()
          {
            song.play();
            song.onended = resolve;

          }
        });

      }

      async function main()
      {
        let songIndex = 0;
        var song = null;
        while(true)
        {

          songIndex = Math.floor(Math.random()*files.length);
          var song = new Audio(files[songIndex].Filename );
          await playSong(song)

        }

      }
      main();
    </script>
  </body>
</html>
